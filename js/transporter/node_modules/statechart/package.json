{
  "name": "statechart",
  "version": "0.1.1",
  "description": "StateChart implementation.",
  "homepage": "http://github.com/DavidDurman/statechart/",
  "author": {
    "name": "David Durman",
    "email": "daviddurman@gmail.com"
  },
  "keywords": [
    "statechart",
    "state machine"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/DavidDurman/statechart.git"
  },
  "bugs": {
    "url": "http://github.com/DavidDurman/statechart/issues/"
  },
  "directories": {
    "doc": "./doc",
    "lib": "./lib",
    "test": "./test"
  },
  "main": "./lib/statechart.js",
  "scripts": {
    "test": "./node_modules/mocha/bin/mocha --reporter spec"
  },
  "engines": [
    "v8",
    "ejs",
    "node",
    "rhino",
    "browser"
  ],
  "licenses": [
    {
      "type": "MIT"
    }
  ],
  "devDependencies": {
    "underscore": "~1.4.3",
    "expect.js": "~0.2.0",
    "mocha": "~1.8.1"
  },
  "dependencies": {},
  "readme": "Statechart implementation in JavaScript.\n========================================\n\n[![Build Status](https://travis-ci.org/DavidDurman/statechart.png?branch=master)](http://travis-ci.org/DavidDurman/statechart)\n\nFeatures\n--------\n\n * Hierarchical states\n * Can be mixined with an arbitrary object\n * JSON-like description of the machine\n * Fast\n * Lightweight (4.6KB minified using jsmin)\n * JavaScript engine independent (browsers, nodejs, narwhal, ...)\n\nRelated work\n------------\n\nThis hierarchical state machine implementation has been inspired\nby the QP active object framework, see http://www.state-machine.com/.\n\nDefining a basic state machine\n-------------------------------\n\nState machine is defined as an object with `initialState` and `states` properties. The former defines\nthe first state we want our machine to enter. The latter is an object with states, events and actions:\n\nStates can have the following attributes:\n* `states` (object) an associative array of states to whom this state is the parent state or \"superstate\".\n* any other attributes of the object are assumed to be events with the object key being the event's name. Events are detailed below.\n\n[![Light switch statechart](http://oi61.tinypic.com/24m6qo9.jpg)](http://oi61.tinypic.com/24m6qo9.jpg)\n\n    var lightSwitch = _.extend({\n        \n        initialState: \"Out\",\n        states: {\n            'Out': {\n                'on':  { target: 'On'   },\n                'out': { target: 'Out'  }\n            },\n            'On': {\n                'on':  { target: 'On'  },\n                'out': { target: 'Out' }\n            }\n        }\n        \n    }, Statechart);\n\n    \n    // Initialize the state machine and make the initial transition (to the `Out` state).\n    lightSwitch.run();\n\n    // Dispatch the `on` event to the machine which causes it to transit to the `On` state.\n    lightSwitch.dispatch('on');\n\n\nReserved events\n---------------\n\nAn event is a stimulus upon which you might want to react. An event can have the following attributes:\n\n* optional `target` (string, state name) which indicates this event should trigger a transition to another state.\n* optional `action` (function or array of events) which indicates which action should be taken when this event is triggered and its guard has returned true.\n* optional `guard` (function, takes the second argument to `fsm.dispatch()`, return true or false) which provides the condition that determines whether the state machine should transition to the `target` state.\n\nThe state machine dispatches three reserved events: `init`, `entry` and `exit`. These are special\nevents that you might react on when an initial transition to a state takes place, when a state is entered or exited.\nThey default to empty for every state and run on every transition whether defined in that particular state or not.\n\nAssume we use the same machine as defined in the above example and run it like this:\n\n    lightSwtich.run();\n    lightSwitch.dispatch('out');\n    lightSwitch.dispatch('on');\n\nThe resulting order of transitions would then be:\n\n* [Out] entry\n* [Out] init\n\nState machine is in the `Out` state and is stable, waiting for input. Something external to the state machine, like your computer program, dispatches the `out` event.\n\n* [Out] exit\n* [Out] entry\n* [Out] init\n\nState machine is in the `On` state. The `on` event is dispatched\n\n* [Out] exit\n* [On] entry\n* [On] init\n\n### init\n\nThe `init` event can be set in only one way.\n\n* &lt;string> stateName - execution of the `init` event will cause immediate transition to this state.\n\nIf you would like to transition immediately upon initializing a state, set it's `init` attribute to the name of the\nstate to which the state machine should transition.  Note: setting the `init` attribute to the name of an event\nthat you would like to dispatch is NOT valid and will cause errors to be thrown.\n\n    myState: {\n        init: \"someOtherState\"\n    }\n\n### entry\n\nThe `entry` event can be set in the following ways:\n\n* &lt;object> eventObject - with `guard` and/or `action` only. It's not possible to transition on `entry`.\n* &lt;Array &lt;object>> eventArray - array of event objects, again, without `target`.\n* &lt;Function> action - function to be run directly as an action.\n\n### exit\n\nThe `exit` event can be set in the following ways:\n\n* &lt;object> eventObject - with `target`, `guard`, and/or `action`.\n* &lt;Array &lt;object>> eventArray - array of event objects.\n* &lt;Function> action - function to be run directly as an action.\n\nCustom events\n-------------\n\nCustom events are named events that we dispatch to the machine (like the `on` and `out` events in the above example).\nAs a reaction on these events, we might want to either transit to another state, execute an action while doing that or\nguard the transition if there is a certain condition that must be met in order for the transition to take place.\n\n    'MyState': {\n        'myEvent': {\n            guard: function() { return this.mySlot === true; },\n            action: function() { console.log('Hooray, transition takes place.'),\n            target: 'AnotherState'\n        }\n    },\n    'AnotherState': {\n    }\n\nCustom events can be defined in the following ways:\n\n* &lt;object> eventObject - with `target`, `guard`, and/or `action`.\n* &lt;Array &lt;object>> eventArray - array of event objects.\n* &lt;Function> action - function to be run directly as an action.\n\nEvent Actions\n-------------\n\nIf the event is specified as an array of events, each event's `guard` will be used to determine if that event should be triggered.  All events in the array whose `guard` returns true will be triggered.\n\nTransitioning from any state to itself will cause the `exit`, `init`, and `enter` events to be triggered again.\n\nIf an event is triggered from a state to which it does not belong, it will not be handled. It will be ignored.\n\n\nHierarchical states\n-------------------\n\nStates can be nested to an arbitrary level. State nesting leads to **behavioral inheritance** [Samek+ 00, 02].\nThis allows new states to be specified **by difference** rather then created from scratch each time.\n\n[![Hierarchical states](http://oi58.tinypic.com/2mi0nz9.jpg)](http://oi58.tinypic.com/2mi0nz9.jpg)\n\nState nesting can simply be done by nesting objects.\n\n    'MyState': {\n        'init': 'MyChildState',\n        'eventA': { ... },\n        'MyChildState': {\n            'entry': function() { console.log('MyChildState being entered.'); },\n            'eventB': { ... }\n        }\n    }\n\n\nSee https://github.com/DavidDurman/statechart/blob/master/test/samek.js for a complete example of a non-trivial\nstate machine.\n\n\nCopyright and license\n---------------------\n\nCopyright (c) 2010 David Durman\n\nLicensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at \nhttp://opensource.org/licenses/MIT.\n\n\n[![Bitdeli Badge](https://d2weczhvl823v0.cloudfront.net/DavidDurman/statechart/trend.png)](https://bitdeli.com/free \"Bitdeli Badge\")\n\n",
  "readmeFilename": "README.md",
  "_id": "statechart@0.1.1",
  "_shasum": "2d35804bbde44f26dbe6a2958b6f3571426a29ce",
  "_resolved": "git://github.com/DavidDurman/statechart#d9b165b6c21e9f60407138447b6e2997dac51080",
  "_from": "statechart@git://github.com/DavidDurman/statechart#d9b165b6c21e9f60407138447b6e2997dac51080"
}
